<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Syntax Reference · LanguageServer.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LanguageServer.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Syntax Reference</a><ul class="internal"><li><a class="tocitem" href="#Main"><span>Main</span></a></li><li><a class="tocitem" href="#Requests"><span>Requests</span></a></li><li><a class="tocitem" href="#Protocol"><span>Protocol</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Syntax Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Syntax Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/julia-vscode/LanguageServer.jl/blob/master/docs/src/syntax.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Syntax-Reference"><a class="docs-heading-anchor" href="#Syntax-Reference">Syntax Reference</a><a id="Syntax-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Syntax-Reference" title="Permalink"></a></h1><ul><li><a href="#LanguageServer.LanguageServerInstance"><code>LanguageServer.LanguageServerInstance</code></a></li><li><a href="#LanguageServer.Range-Tuple{LanguageServer.TextDocument, UnitRange}"><code>LanguageServer.Range</code></a></li><li><a href="#LanguageServer.get_line_offsets-Tuple{LanguageServer.TextDocument}"><code>LanguageServer.get_line_offsets</code></a></li><li><a href="#LanguageServer.get_offset-Tuple{LanguageServer.TextDocument, Integer, Integer}"><code>LanguageServer.get_offset</code></a></li><li><a href="#LanguageServer.get_position_from_offset-Tuple{LanguageServer.TextDocument, Integer}"><code>LanguageServer.get_position_from_offset</code></a></li><li><a href="#LanguageServer.index_at"><code>LanguageServer.index_at</code></a></li><li><a href="#LanguageServer.is_completion_match"><code>LanguageServer.is_completion_match</code></a></li><li><a href="#LanguageServer.is_diag_dependent_on_env-Tuple{LanguageServer.Diagnostic}"><code>LanguageServer.is_diag_dependent_on_env</code></a></li><li><a href="#LanguageServer.runserver"><code>LanguageServer.runserver</code></a></li></ul><h2 id="Main"><a class="docs-heading-anchor" href="#Main">Main</a><a id="Main-1"></a><a class="docs-heading-anchor-permalink" href="#Main" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.Range-Tuple{LanguageServer.TextDocument, UnitRange}" href="#LanguageServer.Range-Tuple{LanguageServer.TextDocument, UnitRange}"><code>LanguageServer.Range</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Range(Doc, rng)</code></pre><p>Converts a byte offset range to a LSP Range.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/textdocument.jl#LL275-L278">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.get_line_offsets-Tuple{LanguageServer.TextDocument}" href="#LanguageServer.get_line_offsets-Tuple{LanguageServer.TextDocument}"><code>LanguageServer.get_line_offsets</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_line_offsets(doc::Document)</code></pre><p>Updates the doc.<em>line</em>offsets field, an n length Array each entry of which gives the byte offset position of the start of each line. This always starts with 0 for the first line (even if empty).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/textdocument.jl#LL206-L212">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.get_offset-Tuple{LanguageServer.TextDocument, Integer, Integer}" href="#LanguageServer.get_offset-Tuple{LanguageServer.TextDocument, Integer, Integer}"><code>LanguageServer.get_offset</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_offset(doc, line, char)</code></pre><p>Returns the 0 based byte offset position corresponding to a line/character position. This takes 0 based line/char inputs. Corresponding functions are available for Position and Range arguments, the latter returning a UnitRange{Int}.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/textdocument.jl#LL215-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.get_position_from_offset-Tuple{LanguageServer.TextDocument, Integer}" href="#LanguageServer.get_position_from_offset-Tuple{LanguageServer.TextDocument, Integer}"><code>LanguageServer.get_position_from_offset</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_position_from_offset(doc, offset)</code></pre><p>Returns the 0-based line and character position within a document of a given byte offset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/textdocument.jl#LL251-L256">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.index_at" href="#LanguageServer.index_at"><code>LanguageServer.index_at</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">index_at(doc::TextDocument, p::Position, forgiving_mode=false)</code></pre><p>Converts a 0-based <code>Position</code> that is UTF-16 encoded to a 1-based UTF-8 encoded Julia string index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/textdocument.jl#LL46-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.is_diag_dependent_on_env-Tuple{LanguageServer.Diagnostic}" href="#LanguageServer.is_diag_dependent_on_env-Tuple{LanguageServer.Diagnostic}"><code>LanguageServer.is_diag_dependent_on_env</code></a> — <span class="docstring-category">Method</span></header><section><div><p>is<em>diag</em>dependent<em>on</em>env(diag::Diagnostic)::Bool</p><p>Is this diagnostic reliant on the current environment being accurately represented?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/requests/textdocument.jl#LL202-L206">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.LanguageServerInstance" href="#LanguageServer.LanguageServerInstance"><code>LanguageServer.LanguageServerInstance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LanguageServerInstance(pipe_in, pipe_out, env=&quot;&quot;, depot=&quot;&quot;, err_handler=nothing, symserver_store_path=nothing)</code></pre><p>Construct an instance of the language server.</p><p>Once the instance is <code>run</code>, it will read JSON-RPC from <code>pipe_out</code> and write JSON-RPC from <code>pipe_in</code> according to the <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-3-14/">language server specification</a>. For normal usage, the language server can be instantiated with <code>LanguageServerInstance(stdin, stdout, false, &quot;/path/to/environment&quot;)</code>.</p><p><strong>Arguments</strong></p><ul><li><code>pipe_in::IO</code>: Pipe to read JSON-RPC from.</li><li><code>pipe_out::IO</code>: Pipe to write JSON-RPC to.</li><li><code>env::String</code>: Path to the <a href="https://docs.julialang.org/en/v1.2/manual/code-loading/#Environments-1">environment</a> for which the language server is running. An empty string uses julia&#39;s default environment.</li><li><code>depot::String</code>: Sets the <a href="https://docs.julialang.org/en/v1.2/manual/environment-variables/#JULIA_DEPOT_PATH-1"><code>JULIA_DEPOT_PATH</code></a> where the language server looks for packages required in <code>env</code>.</li><li><code>err_handler::Union{Nothing,Function}</code>: If not <code>nothing</code>, catch all errors and pass them to an error handler function with signature <code>err_handler(err, bt)</code>. Mostly used for the VS Code crash reporting implementation.</li><li><code>symserver_store_path::Union{Nothing,String}</code>: if <code>nothing</code> is passed, the symbol server cash is stored in a folder in the package. If an absolute path is passed, the symbol server will store the cache files in that path. The path must exist on disc before this is called.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/languageserverinstance.jl#LL1-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.run-Tuple{LanguageServerInstance}" href="#Base.run-Tuple{LanguageServerInstance}"><code>Base.run</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run(server::LanguageServerInstance)</code></pre><p>Run the language <code>server</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/languageserverinstance.jl#LL272-L276">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.runserver" href="#LanguageServer.runserver"><code>LanguageServer.runserver</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">runserver(pipe_in=stdin, pipe_out=stdout[, env_path])</code></pre><p>Run a <code>LanguageServerInstance</code> reading from <code>pipe_in</code> and writing to <code>pipe_out</code>.</p><p>The same options can be passed to <code>runserver</code> as to <a href="#LanguageServer.LanguageServerInstance"><code>LanguageServerInstance</code></a>. If <code>env_path</code> is not specified, attempt to pick an environment by considering in order of priority:</p><ol><li><a href="@ref"><code>ARGS</code>[1]</a>: the first command-line argument passed to the invocation of <code>julia</code>.</li><li>The Julia project containing <a href="@ref"><code>pwd()</code></a>.</li><li>The default Julia environment withing <code>.julia/environments/v#.#</code>.</li></ol><p><strong>Examples</strong></p><p>The following invocation of Julia would set <code>env_path</code> to <code>/home/example/repos/Example.jl</code>:</p><pre><code class="language-sh hljs">julia --project=/path/to/LanguageServer.jl \
  -e &quot;using LanguageServer; runserver()&quot; \
  /home/example/repos/Example.jl</code></pre><p>If there was a <code>Project.toml</code> or <code>JuliaProject.toml</code> in <code>/home/example/repos/Example.jl/</code>, the following invocation would set <code>env_path</code> to <code>/home/example/repos/Example.jl/</code>; otherwise it would be set to <code>.julia/environments/v#.#</code> where <code>v#.#</code> is the major/minor version of Julia being invoked.</p><pre><code class="language-sh hljs">julia --project=/path/to/LanguageServer.jl \
  -e &quot;using LanguageServer; runserver()&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/runserver.jl#LL1-L36">source</a></section></article><h2 id="Requests"><a class="docs-heading-anchor" href="#Requests">Requests</a><a id="Requests-1"></a><a class="docs-heading-anchor-permalink" href="#Requests" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.is_completion_match" href="#LanguageServer.is_completion_match"><code>LanguageServer.is_completion_match</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_completion_match(s::AbstractString, prefix::AbstractString, cutoff=3)</code></pre><p>Returns true if <code>s</code> starts with <code>prefix</code> or has a sufficiently high fuzzy score.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/7ae13eae7d7dc6bc6f4bae08e6699ea7df9abbed/src/requests/completions.jl#LL27-L31">source</a></section></article><h2 id="Protocol"><a class="docs-heading-anchor" href="#Protocol">Protocol</a><a id="Protocol-1"></a><a class="docs-heading-anchor-permalink" href="#Protocol" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 12 September 2023 16:04">Tuesday 12 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
